<!DOCTYPE html>
<html lang="en" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <script>
        function disp(form) {
            if (form.style.display == "none") {
                form.style.display = "block";
            } else {
                form.style.display = "none";
            }
        }
    </script>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css" rel="stylesheet"
          crossorigin="anonymous">
</head>
<body class="container-fluid" ng-app="Airports" ng-controller="AirportsCtrl">
<nav  class="navbar navbar-expand navbar-dark bg-dark">
<ul class="navbar-nav mr-auto">
    <li class="nav-item">
        <a class="nav-link" href="/">Booking</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="flights.html">Flights</a>
    </li>
    <li class="nav-item">
        <a class="nav-link active" href="airports.html">Airports</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/aircraft.html" sec:authorize="hasAuthority('ADMIN')">Aircraft</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="city.html">City</a>
    </li>
</ul >
    <ul >
        <a class="btn btn-outline-secondary" href="/logout">logout</a>
    </ul>
</nav>
<form id="form1" style="display: none;">
    <div class="container-fluid">
        <div class="container" align="center">
            <p style="color: green">{{message}}</p>
            <p style="color: red">{{errorMessage}}</p>
            <table>
                <tr>
                    <td width="100">ID:</td>
                    <td><input type="text" id="id" ng-model="airport.id" /></td>
                </tr>
                <tr>
                    <td width="100">Name Airport:</td>
                    <td><input type="text" id="nameCity" ng-model="airport.nameAirport" /></td>
                </tr>
                <td>airportInTheCity</td>
                <td ><select type="text"  ng-model="airport.airportInTheCity" style="width:100%">
                    <option ng-repeat="city in cities"
                            value="{{city}}">
                        {{city.nameCity}}
                    </option>
                </select>
                </td>
            </table>
            <a ng-click="updateAirport(airport.id,airport.nameAirport,airport.airportInTheCity)"class="btn btn-outline-secondary">Update Airport</a>
            <a ng-click="addAirport(airport.nameAirport,airport.airportInTheCity)"class="btn btn-outline-success">Add Airport</a>
            <a ng-click="deleteAirport(airport.id)"class="btn btn-outline-danger" >Delete Airport</a>
            <a ng-click="getAirport(airport.id)"class="btn btn-outline-secondary">Get Airport</a>
        </div>
    </div>
</form>
<div class="container mt-5" ng-app="Airports" ng-controller="AirportsCtrl">
    <a class="btn btn-outline-secondary" value="update" onclick="disp(document.getElementById('form1'))">redact</a>
       <table class="table table-striped table-bordered" style="width:100%">
           <thead>
           <th>id</th>
           <th>  nameAirport</th>
           <th>  airportInTheCity</th>
           </thead>
           <tbody class="table-bordered">
           <tr ng-repeat="airport in airports">
               <td>{{airport.id}}</td>
               <td>{{airport.nameAirport}}</td>
               <td>{{airport.airportInTheCity.nameCity}}</td>
           </tr>
           </tbody>
       </table>
   </div>

</body>
<script type="text/javascript" src="js/components/angular.min.js"></script>
<script type="text/javascript" src="js/components/airports/airports.js"></script>
</html>